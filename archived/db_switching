// // check if production database is in right place
// let tmp_db_exists;
// try {
//   tmp_db_exists = await fs.pathExists(originalDBfilePath_tmp);
// } catch (err) {
//   console.error(err);
// }
// if (tmp_db_exists) {
//   log("database_original.js exists, it will replace database.js");
//   await putOriginalDB();
// }

// await putTestDB();

async function putTestDB() {
  const exists = await fs.pathExists(originalDBfilePath);

  if (exists) {
    try {
      await fs.copy(originalDBfilePath, originalDBfilePath_tmp);
    } catch (err) {
      console.error(err);
    }
  }
  try {
    await fs.copy(testDBfilePath, originalDBfilePath);
  } catch (err) {
    console.error(err);
  }
}

async function putOriginalDB() {
  const exists = await fs.pathExists(originalDBfilePath_tmp);

  if (exists) {
    try {
      await fs.copy(originalDBfilePath_tmp, originalDBfilePath);
    } catch (err) {
      console.error(err);
    }
    try {
      await fs.remove(originalDBfilePath_tmp);
    } catch (err) {
      console.error(err);
    }
  }
}
